{
  "apis": {
    "base": {
      "user_agent": "FluentForever-v2/1.0",
      "timeout": 30,
      "max_retries": 3
    },
    "openai": {
      "api_key": "",
      "env_var": "OPENAI_API_KEY",
      "enabled": true,
      "model": "dall-e-3",
      "base_url": "https://api.openai.com/v1",
      "timeout": 60,
      "cost_per_image": 0.040
    },
    "forvo": {
      "api_key": "",
      "env_var": "FORVO_API_KEY",
      "enabled": true,
      "base_url": "https://apifree.forvo.com",
      "country_priorities": ["CO", "MX", "PE", "VE", "AR", "EC", "UY", "CR", "ES"],
      "priority_groups": [
        ["MX", "CO"],
        ["PE", "VE", "AR", "EC", "UY", "CR"],
        ["ES"]
      ]
    },
    "anki": {
      "url": "http://localhost:8765",
      "deck_name": "Latin Spanish::1. Vocabulary",
      "note_type": "Fluent Forever",
      "launch_wait_time": 8
    }
  },
  "image_generation": {
    "primary_provider": "openai",
    "style": "Studio Ghibli animation style, Hayao Miyazaki art style, anime illustration, soft colors, detailed background, consistent Ghibli aesthetic",
    "negative_prompt": "realistic, photo, 3d render, dark, scary, multiple people, extra limbs, distorted face, blurry, low quality, watermark, text, adult content, violence",
    "width": 1024,
    "height": 1024,
    "steps": 25,
    "guidance_scale": 7.0
  },
  "character_system": {
    "use_text_descriptions": true,
    "default_characters": ["peter", "maria", "zach", "sarah"],
    "consistency_prompt_additions": "consistent character design, same person throughout"
  },
  "paths": {
    "media_folder": "media",
    "vocabulary_db": "vocabulary.json",
    "word_queue": "word_queue.txt",
    "downloads": "/Users/peter_coulson/Downloads"
  },
  "media_generation": {
    "max_new_items": 7,
    "default_timeout": 60,
    "retry_attempts": 3
  },
  "preferences": {
    "batch_size": 5,
    "auto_commit": true,
    "console_colors": true
  },
  "validation": {
    "vocabulary_schema": {
      "metadata": {
        "required_fields": ["created", "last_updated", "total_words", "total_cards", "source"],
        "optional_fields": ["corpus_info", "reset_reason"]
      },
      "word_entry": {
        "required_fields": ["word", "processed_date", "meanings", "cards_created"],
        "optional_fields": []
      },
      "meaning_entry": {
        "required_fields": [
          "CardID",
          "SpanishWord", 
          "IPA",
          "MeaningContext",
          "MonolingualDef",
          "ExampleSentence",
          "GappedSentence",
          "ImageFile",
          "WordAudio",
          "WordAudioAlt",
          "UsageNote",
          "MeaningID",
          "prompt"
        ],
        "optional_fields": []
      }
    },
    "field_patterns": {
      "CardID": "^[a-z_0-9]+$",
      "SpanishWord": "^[a-záéíóúñü]+$",
      "IPA": "^\\[.*\\]$|^/.*/$",
      "ImageFile": "^[a-z_]+\\.png$",
      "WordAudio": "^\\[sound:[a-z_]+\\.mp3\\]$",
      "MeaningID": "^[a-z_]+$"
    },
    "constraints": {
      "max_cards_per_word": 10,
      "min_definition_length": 5,
      "min_example_length": 3
    }
  }
}
