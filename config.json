{
  "system": {
    "log_level": "INFO",
    "cache_enabled": true,
    "max_concurrent_requests": 5,
    "timeout_seconds": 300,
    "backup_before_changes": true,
    "validate_before_execution": true
  },
  "providers": {
    "data": {
      "type": "json",
      "base_path": "."
    },
    "audio": {
      "type": "forvo"
    },
    "image": {
      "type": "runware"
    },
    "sync": {
      "type": "anki"
    }
  },
  "apis": {
    "base": {
      "user_agent": "FluentForever-v2/1.0",
      "timeout": 30,
      "max_retries": 3
    },
    "openai": {
      "api_key": "${OPENAI_API_KEY}",
      "enabled": true,
      "model": "dall-e-3",
      "base_url": "https://api.openai.com/v1",
      "timeout": 60,
      "cost_per_image": 0.040,
      "cost_limits": {
        "daily_limit_usd": 10.0,
        "warn_threshold_usd": 5.0,
        "track_usage": true
      }
    },
    "forvo": {
      "api_key": "${FORVO_API_KEY}",
      "enabled": true,
      "base_url": "https://apifree.forvo.com",
      "timeout": 30,
      "max_retries": 3,
      "country_priorities": ["CO", "MX", "PE", "VE", "AR", "EC", "UY", "CR", "ES"],
      "priority_groups": [
        ["MX", "CO"],
        ["PE", "VE", "AR", "EC", "UY", "CR"],
        ["ES"]
      ],
      "audio_format": "mp3",
      "audio_quality": "high"
    },
    "anki": {
      "url": "http://localhost:8765",
      "timeout": 30,
      "max_retries": 3,
      "deck_name": "Latin Spanish::1. Vocabulary",
      "note_type": "Fluent Forever",
      "launch_wait_time": 8,
      "allow_duplicates": false,
      "update_existing": true,
      "backup_before_sync": true,
      "update_templates": true,
      "validate_fields": true
    },
    "runware": {
      "api_key": "${RUNWARE_API_KEY}",
      "enabled": true,
      "base_url": "https://api.runware.ai",
      "timeout": 60,
      "max_retries": 3,
      "cost_per_image": 0.01,
      "cost_limits": {
        "daily_limit_usd": 5.0,
        "warn_threshold_usd": 2.0,
        "track_usage": true
      }
    }
  },
  "image_generation": {
    "primary_provider": "runware",
    "providers": {
      "openai": {
        "model": "dall-e-3",
        "style": "Studio Ghibli animation style, Hayao Miyazaki art style, anime illustration, soft colors, detailed background, consistent Ghibli aesthetic",
        "width": 1024,
        "height": 1024,
        "quality": "standard"
      },
      "runware": {
        "model": "runware:101@1",
        "style": "Studio Ghibli animation style, Hayao Miyazaki art style, anime illustration, soft colors, detailed background, consistent Ghibli aesthetic",
        "negative_prompt": "realistic, photo, 3d render, dark, scary, multiple people, extra limbs, distorted face, blurry, low quality, watermark, text, adult content, violence",
        "width": 1024,
        "height": 1024,
        "steps": 25,
        "guidance_scale": 7.0,
        "sampler": "euler",
        "output_type": "URL",
        "output_format": "JPG",
        "number_results": 1
      }
    }
  },
  "character_system": {
    "use_text_descriptions": true,
    "default_characters": ["peter", "maria", "zach", "sarah"],
    "consistency_prompt_additions": "consistent character design, same person throughout"
  },
  "paths": {
    "media_folder": "media",
    "vocabulary_db": "vocabulary.json",
    "word_queue": "word_queue.txt",
    "downloads": "${HOME}/Downloads"
  },
  "media_generation": {
    "max_new_items": 10,
    "default_timeout": 60,
    "retry_attempts": 3
  },
  "cli": {
    "output_format": "table",
    "show_progress": true,
    "confirm_destructive": true,
    "default_dry_run": false,
    "use_colors": true,
    "verbose": false
  },
  "output_formats": {
    "table": {
      "use_colors": true,
      "max_width": 120,
      "truncate_long_fields": true
    },
    "json": {
      "pretty_print": true,
      "indent": 2
    },
    "csv": {
      "include_headers": true,
      "delimiter": ","
    }
  },
  "preferences": {
    "batch_size": 5,
    "auto_commit": true,
    "console_colors": true
  },
  "validation": {
    "vocabulary_schema": {
      "metadata": {
        "required_fields": ["created", "last_updated", "total_words", "total_cards", "source"],
        "optional_fields": ["corpus_info", "reset_reason"]
      },
      "word_entry": {
        "required_fields": ["word", "processed_date", "meanings", "cards_created"],
        "optional_fields": []
      },
      "meaning_entry": {
        "required_fields": [
          "CardID",
          "SpanishWord",
          "IPA",
          "MeaningContext",
          "MonolingualDef",
          "ExampleSentence",
          "GappedSentence",
          "ImageFile",
          "WordAudio",
          "WordAudioAlt",
          "UsageNote",
          "MeaningID",
          "prompt"
        ],
        "optional_fields": []
      }
    },
    "field_patterns": {
      "CardID": "^[a-záéíóúñü_0-9]+$",
      "SpanishWord": "^[a-záéíóúñü]+$",
      "IPA": "^\\[.*\\]$|^/.*/$",
      "ImageFile": "^[a-záéíóúñü_]+\\.png$",
      "WordAudio": "^\\[sound:[a-záéíóúñü_]+\\.mp3\\]$",
      "MeaningID": "^[a-záéíóúñü_]+$"
    },
    "constraints": {
      "max_cards_per_word": 10,
      "min_definition_length": 5,
      "min_example_length": 3
    }
  }
}
